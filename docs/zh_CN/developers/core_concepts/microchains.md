# 微链

本节将介绍Linera协议的基础构建单元，微链。微链的正式阐述参见[白皮书](https://static1.squarespace.com/static/62d6e9b8bf6051136f934527/t/64ddbbe4cb495e1b1b37f678/1692253157602/Linera_whitepaper_v2.pdf)。

## [背景](zh_CN/developers/core_concepts/microchains.md#背景)

**微链**是一系列区块的串联，这些区块描述了对于某共享状态的持续修改。在此我们不严格区分*链*和*微链*，而将这两者互换使用。除了我们熟知的经典区块链特性，Linera中的微链还具有下列重要特性：

- Linera网络中可以存在任意数量的微链，这些微链共享一组验证器，拥有同样的安全级别。创建微链只需要在已有微链上执行一条交易即可完成。
- 根据微链的不同配置，微链的新区块可能由验证器创建，或由终端用户(或者说他们的钱包)创建。特别地，根据微链中谁被授权创建区块，可以将微链分为*单所有者链*，*许可链*或*公开链*。

## [跨链消息](zh_CN/developers/core_concepts/microchains.md#跨链消息)

传统区块链通常为单链，每条交易都可以访问完整执行状态。与传统区块链不同，Linera中的微链执行状态只会被自己的区块改变。

跨链消息是一种不同微链之间的异步通信方法。这种方法允许应用和数据可以在不同微链之间传播，从而实现更好的扩展性。当一条微链上的应用向另一条微链发送消息时，就会创建一个跨链请求。跨链请求使用远程过程调用(RPCs)实现，在验证器的内部网络之间传输。每个跨链请求将确保仅被执行一次。

跨链消息到达目标微链后，将被放置在目标微链的**收件箱**，不会直接修改微链状态。当链的所有者准备创建下一个区块，链所有者将会从收件箱选取消息，构成新区块。执行这些被选中进入下一个区块的消息将会修改微链状态。

下面的示意图描述了一组微链之间互相发送跨链消息的示例。

```ignore
                               ┌───┐     ┌───┐     ┌───┐
                       Chain A │   ├────►│   ├────►│   │
                               └───┘     └───┘     └───┘
                                                     ▲
                                           ┌─────────┘
                                           │
                               ┌───┐     ┌─┴─┐     ┌───┐
                       Chain B │   ├────►│   ├────►│   │
                               └───┘     └─┬─┘     └───┘
                                           │         ▲
                                           │         │
                                           ▼         │
                               ┌───┐     ┌───┐     ┌─┴─┐
                       Chain C │   ├────►│   ├────►│   │
                               └───┘     └───┘     └───┘
```

Linera协议允许接收方丢弃消息，但是不允许接收方修改选定消息在通信队列内的顺序。如果某条消息最终不会被选中，当接收方创建新区块并执行时，将会忽略该消息。当前Linera客户端实现将会从收件箱选取尽量多的消息，除非消息执行失败，否则不会丢弃。

## [链的所有权语义](zh_CN/developers/core_concepts/microchains.md#链的所有权语义)

活跃的微链可以被一个或多个所有者拥有，如果微链不存在所有者，则微链被永久禁用。

验证者将会保障Linera的*安全性*：在任一微链的任一高度，至多只会存在一个区块。

*活性*——实质上是将新区块添加到微链-的定义取决于所有者。针对不同场景下，存在不同的Round(译者注：这里翻译成轮次稍显怪异，因此我们保留原文)和所有者类型：

- *快速*Round：*超级所有者*创建新区块，该区块将以非常低的延迟得到确认，适合毫无争议的单所有者微链。
- *多领导者*Round：所有*普通所有者*都可以创建新区块。不同所有者创建的区块偶尔存在临时争议，但终将达成一致。这一类型的使用场景包含一个所有者同时使用多个设备，或者多人偶尔使用同一条微链。
- *单领导者*Round：每个*普通所有者*都有专属的时间槽创建区块，该时间槽内其他所有者不能创建区块。这一类型是针对许多用户同时向同一微链提交区块的合理选择。

*多领导者*Round是可配置的：鉴于链上活动水平波动状况，如果多领导者Round因为较大争议(译者注：没有任何一个区块能够搜集到2/3以上的投票)，此时该Round将动态切换为单领导者模式。对于多个领导者频繁同时活动(译者注：创建区块)的微链，可以将多领导者Rounds设置为0(译者注：以较快达成一致)。

关于创建和停止微链的更多细节和示例，可以参见[微链管理](zh_CN/developers/core_concepts/wallets.md#默认微链)的钱包章节。
